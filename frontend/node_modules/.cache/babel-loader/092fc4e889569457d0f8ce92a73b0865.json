{"ast":null,"code":"import _objectSpread from \"/Users/jh/www/projects/stooge-dnd/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/Users/jh/www/projects/stooge-dnd/src/components/list/index.js\";\n\n/* eslint-disable react/no-multi-comp */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { SortableContainer, SortableElement } from 'react-sortable-hoc';\nimport classnames from 'classnames';\nimport getColorsFromName from '../../utils/colorFromName';\nimport OptionalNavLink from '../optionalLink';\nimport './list.scss';\nvar PROPTYPE_ITEM = PropTypes.shape({\n  name: PropTypes.string.isRequired\n});\nvar PROPTYPE_ITEMS = PropTypes.arrayOf(PROPTYPE_ITEM);\n\nvar colorToStyle = function colorToStyle(colors) {\n  var style = {};\n\n  if (colors.gradient) {\n    style.borderImage = \"\".concat(colors.gradient, \" 0 0 1 0 / 1px / 0 stretch\");\n  }\n\n  if (colors.main) {\n    style.borderBottomColor = colors.main;\n  }\n\n  return style;\n};\n\nvar SortableItem = SortableElement(function (_ref) {\n  var item = _ref.item,\n      actions = _ref.actions,\n      position = _ref.position,\n      linkGen = _ref.linkGen,\n      colorNames = _ref.colorNames,\n      ExtraComponent = _ref.extraComponent;\n  // console.log(item);\n  var colors = getColorsFromName(item.name);\n  var colorStyles = colorNames ? colorToStyle(colors) : {};\n  console.log(position);\n  return React.createElement(\"li\", {\n    className: \"trackerlist-item\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(OptionalNavLink, {\n    to: linkGen(item),\n    className: \"trackerlist-item__link\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: classnames({\n      'trackerlist-item__link__name': true,\n      'trackerlist-item__link__name--monster': item.stats,\n      'trackerlist-item__link__name--player': !item.stats\n    }),\n    style: colorStyles,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, item.name, !!item.affix && React.createElement(\"span\", {\n    className: \"trackerlist-item__link__name__affix\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, ' ', \"(\", item.affix, \")\")), !!ExtraComponent && React.createElement(ExtraComponent, {\n    item: item,\n    id: item.id,\n    position: position,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  })), React.createElement(\"span\", {\n    className: \"trackerlist-item__actions\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, actions.map(function (action) {\n    return React.createElement(\"button\", {\n      key: action.key,\n      type: \"submit\",\n      className: \"trackerlist-item__actions__button\",\n      onClick: function onClick() {\n        return action.onClick(item);\n      },\n      title: action.title,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: action.glyph,\n      alt: \"-\",\n      height: \"20\",\n      width: \"20\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }));\n  })));\n});\nSortableItem.propTypes = {\n  actions: PropTypes.arrayOf(PropTypes.shape({})),\n  linkGen: PropTypes.func.isRequired,\n  item: PROPTYPE_ITEM.isRequired\n};\nSortableItem.defaultProps = {\n  actions: []\n};\nvar SortableList = SortableContainer(function (_ref2) {\n  var items = _ref2.items,\n      disableDragging = _ref2.disableDragging,\n      actions = _ref2.actions,\n      linkGen = _ref2.linkGen,\n      colorNames = _ref2.colorNames,\n      extraComponent = _ref2.extraComponent;\n  return React.createElement(\"ol\", {\n    className: \"trackerlist\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }, items.map(function (item, index) {\n    return React.createElement(SortableItem, {\n      key: item.id,\n      index: index,\n      position: index,\n      value: item,\n      item: item,\n      disabled: disableDragging,\n      actions: actions,\n      linkGen: linkGen,\n      colorNames: colorNames,\n      extraComponent: extraComponent,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    });\n  }));\n});\nSortableList.propTypes = _objectSpread({}, SortableList.propTypes, {\n  items: PROPTYPE_ITEMS.isRequired,\n  onSortEnd: PropTypes.func.isRequired,\n  disableDragging: PropTypes.bool,\n  colorNames: PropTypes.bool,\n  extraComponent: PropTypes.func\n});\nSortableList.defaultProps = _objectSpread({}, SortableList.defaultProps, {\n  disableDragging: false,\n  lockAxis: 'y',\n  distance: 2,\n  helperClass: 'dragging',\n  linkGen: function linkGen() {\n    return false;\n  },\n  colorNames: false,\n  extraComponent: null\n});\nexport default SortableList;","map":{"version":3,"sources":["/Users/jh/www/projects/stooge-dnd/src/components/list/index.js"],"names":["React","PropTypes","SortableContainer","SortableElement","classnames","getColorsFromName","OptionalNavLink","PROPTYPE_ITEM","shape","name","string","isRequired","PROPTYPE_ITEMS","arrayOf","colorToStyle","colors","style","gradient","borderImage","main","borderBottomColor","SortableItem","item","actions","position","linkGen","colorNames","ExtraComponent","extraComponent","colorStyles","console","log","stats","affix","id","map","action","key","onClick","title","glyph","propTypes","func","defaultProps","SortableList","items","disableDragging","index","onSortEnd","bool","lockAxis","distance","helperClass"],"mappings":"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","sourcesContent":["/* eslint-disable react/no-multi-comp */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { SortableContainer, SortableElement } from 'react-sortable-hoc';\nimport classnames from 'classnames';\nimport getColorsFromName from '../../utils/colorFromName';\nimport OptionalNavLink from '../optionalLink';\n\nimport './list.scss';\n\nconst PROPTYPE_ITEM = PropTypes.shape({\n\tname: PropTypes.string.isRequired,\n});\nconst PROPTYPE_ITEMS = PropTypes.arrayOf(PROPTYPE_ITEM);\n\nconst colorToStyle = (colors) => {\n\tconst style = {};\n\n\tif (colors.gradient) {\n\t\tstyle.borderImage = `${colors.gradient} 0 0 1 0 / 1px / 0 stretch`;\n\t}\n\n\tif (colors.main) {\n\t\tstyle.borderBottomColor = colors.main;\n\t}\n\n\treturn style;\n};\n\nconst SortableItem = SortableElement(\n\t({\n\t\titem,\n\t\tactions,\n\t\tposition,\n\t\tlinkGen,\n\t\tcolorNames,\n\t\textraComponent: ExtraComponent,\n\t}) => {\n\t\t// console.log(item);\n\t\tconst colors = getColorsFromName(item.name);\n\t\tconst colorStyles = colorNames ? colorToStyle(colors) : {};\n\n\t\tconsole.log(position);\n\n\t\treturn (\n\t\t\t<li className=\"trackerlist-item\">\n\t\t\t\t<OptionalNavLink to={linkGen(item)} className=\"trackerlist-item__link\">\n\t\t\t\t\t<span\n\t\t\t\t\t\tclassName={classnames({\n\t\t\t\t\t\t\t'trackerlist-item__link__name': true,\n\t\t\t\t\t\t\t'trackerlist-item__link__name--monster': item.stats,\n\t\t\t\t\t\t\t'trackerlist-item__link__name--player': !item.stats,\n\t\t\t\t\t\t})}\n\t\t\t\t\t\tstyle={colorStyles}\n\t\t\t\t\t>\n\t\t\t\t\t\t{item.name}\n\t\t\t\t\t\t{!!item.affix && (\n\t\t\t\t\t\t\t<span className=\"trackerlist-item__link__name__affix\">\n\t\t\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t\t\t({item.affix})\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</span>\n\t\t\t\t\t{!!ExtraComponent && (\n\t\t\t\t\t\t<ExtraComponent item={item} id={item.id} position={position} />\n\t\t\t\t\t)}\n\t\t\t\t</OptionalNavLink>\n\n\t\t\t\t<span className=\"trackerlist-item__actions\">\n\t\t\t\t\t{actions.map((action) => (\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tkey={action.key}\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\tclassName=\"trackerlist-item__actions__button\"\n\t\t\t\t\t\t\tonClick={() => action.onClick(item)}\n\t\t\t\t\t\t\ttitle={action.title}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<img src={action.glyph} alt=\"-\" height=\"20\" width=\"20\" />\n\t\t\t\t\t\t</button>\n\t\t\t\t\t))}\n\t\t\t\t</span>\n\t\t\t</li>\n\t\t);\n\t},\n);\n\nSortableItem.propTypes = {\n\tactions: PropTypes.arrayOf(PropTypes.shape({})),\n\tlinkGen: PropTypes.func.isRequired,\n\titem: PROPTYPE_ITEM.isRequired,\n};\n\nSortableItem.defaultProps = {\n\tactions: [],\n};\n\nconst SortableList = SortableContainer(\n\t({\n\t\titems,\n\t\tdisableDragging,\n\t\tactions,\n\t\tlinkGen,\n\t\tcolorNames,\n\t\textraComponent,\n\t}) => {\n\t\treturn (\n\t\t\t<ol className=\"trackerlist\">\n\t\t\t\t{items.map((item, index) => (\n\t\t\t\t\t<SortableItem\n\t\t\t\t\t\tkey={item.id}\n\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\tposition={index}\n\t\t\t\t\t\tvalue={item}\n\t\t\t\t\t\titem={item}\n\t\t\t\t\t\tdisabled={disableDragging}\n\t\t\t\t\t\tactions={actions}\n\t\t\t\t\t\tlinkGen={linkGen}\n\t\t\t\t\t\tcolorNames={colorNames}\n\t\t\t\t\t\textraComponent={extraComponent}\n\t\t\t\t\t/>\n\t\t\t\t))}\n\t\t\t</ol>\n\t\t);\n\t},\n);\n\nSortableList.propTypes = {\n\t...SortableList.propTypes,\n\titems: PROPTYPE_ITEMS.isRequired,\n\tonSortEnd: PropTypes.func.isRequired,\n\tdisableDragging: PropTypes.bool,\n\tcolorNames: PropTypes.bool,\n\textraComponent: PropTypes.func,\n};\n\nSortableList.defaultProps = {\n\t...SortableList.defaultProps,\n\tdisableDragging: false,\n\tlockAxis: 'y',\n\tdistance: 2,\n\thelperClass: 'dragging',\n\tlinkGen: () => false,\n\tcolorNames: false,\n\textraComponent: null,\n};\n\nexport default SortableList;\n"]},"metadata":{},"sourceType":"module"}