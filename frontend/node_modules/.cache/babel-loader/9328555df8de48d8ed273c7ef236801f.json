{"ast":null,"code":"import _classCallCheck from \"/Users/jh/www/projects/stooge-dnd/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/jh/www/projects/stooge-dnd/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/jh/www/projects/stooge-dnd/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/jh/www/projects/stooge-dnd/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/jh/www/projects/stooge-dnd/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/jh/www/projects/stooge-dnd/src/containers/party/index.js\";\nimport React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types'; // import { Switch, Route } from 'react-router';\n// import { push } from 'connected-react-router';\n\nimport { connect } from 'react-redux'; // import { Link } from 'react-router-dom';\n\nimport forEach from 'lodash/forEach';\nimport { // PLAYERS_ADD,\nPLAYERS_MOVE, TYPE_PLAYER } from '../../reducers/players';\nimport SortableList from '../../components/list';\nimport SidebarLayout from '../../components/sidebarLayout';\nimport SidebarActions from '../../components/sidebarActions';\nimport IconSwordman from \"./swordman.svg\";\nimport IconRemove from \"../../svg/remove.svg\";\nimport './party.scss';\nimport { ADD_ACTOR, REMOVE_ACTOR } from '../../actions';\n\nvar PartyManager =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(PartyManager, _Component);\n\n  function PartyManager() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, PartyManager);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(PartyManager)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.onSortEnd = function (_ref) {\n      var oldIndex = _ref.oldIndex,\n          newIndex = _ref.newIndex;\n      var dispatch = _this.props.dispatch;\n\n      if (oldIndex !== newIndex) {\n        dispatch({\n          type: PLAYERS_MOVE,\n          oldIndex: oldIndex,\n          newIndex: newIndex\n        });\n      }\n    };\n\n    _this.addPlayers = function () {\n      var dispatch = _this.props.dispatch; // eslint-disable-next-line no-alert\n\n      var namesStr = window.prompt('Enter player names, separate multiple names with comma.');\n\n      if (namesStr) {\n        var playerNames = namesStr.split(',').map(function (name) {\n          return _this.createPlayerObject(name.trim());\n        });\n\n        if (playerNames.length) {\n          forEach(playerNames, function (player) {\n            dispatch({\n              type: ADD_ACTOR,\n              actor: player\n            });\n          });\n        }\n      }\n    };\n\n    _this.removePlayer = function (item) {\n      var dispatch = _this.props.dispatch;\n\n      if (item && window.confirm(\" Are you sure you want to remove \\\"\".concat(item.name, \"\\\"?\"))) {\n        dispatch({\n          type: REMOVE_ACTOR,\n          actor: item\n        });\n      }\n    };\n\n    _this.createPlayerObject = function (name) {\n      return {\n        name: name,\n        type: TYPE_PLAYER\n      };\n    };\n\n    return _this;\n  }\n\n  _createClass(PartyManager, [{\n    key: \"render\",\n    value: function render() {\n      var players = this.props.players;\n      return React.createElement(SidebarLayout, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 31\n        },\n        __self: this\n      }, React.createElement(Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32\n        },\n        __self: this\n      }, React.createElement(SidebarActions, {\n        buttons: [{\n          key: 'addplayer',\n          onClick: this.addPlayers,\n          glyph: IconSwordman,\n          title: 'Add players'\n        }],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33\n        },\n        __self: this\n      }), React.createElement(SortableList, {\n        items: players,\n        onSortEnd: this.onSortEnd,\n        actions: [{\n          key: 'remove',\n          onClick: this.removePlayer,\n          glyph: IconRemove,\n          title: 'Remove player'\n        }],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      })), React.createElement(Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return PartyManager;\n}(Component);\n\nPartyManager.propTypes = {\n  dispatch: PropTypes.func.isRequired,\n  players: PropTypes.arrayOf(PropTypes.shape({})).isRequired\n};\nexport default connect(function (state) {\n  return {\n    players: state.players.items\n  };\n})(PartyManager);","map":{"version":3,"sources":["/Users/jh/www/projects/stooge-dnd/src/containers/party/index.js"],"names":["React","Component","Fragment","PropTypes","connect","forEach","PLAYERS_MOVE","TYPE_PLAYER","SortableList","SidebarLayout","SidebarActions","ADD_ACTOR","REMOVE_ACTOR","PartyManager","onSortEnd","oldIndex","newIndex","dispatch","props","type","addPlayers","namesStr","window","prompt","playerNames","split","map","name","createPlayerObject","trim","length","player","actor","removePlayer","item","confirm","players","key","onClick","glyph","IconSwordman","title","IconRemove","propTypes","func","isRequired","arrayOf","shape","state","items"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\n// import { Switch, Route } from 'react-router';\n// import { push } from 'connected-react-router';\nimport { connect } from 'react-redux';\n// import { Link } from 'react-router-dom';\nimport forEach from 'lodash/forEach';\nimport {\n\t// PLAYERS_ADD,\n\tPLAYERS_MOVE,\n\tTYPE_PLAYER,\n} from '../../reducers/players';\nimport SortableList from '../../components/list';\nimport SidebarLayout from '../../components/sidebarLayout';\nimport SidebarActions from '../../components/sidebarActions';\n\nimport IconSwordman from './swordman.svg';\nimport IconRemove from '../../svg/remove.svg';\nimport './party.scss';\nimport { ADD_ACTOR, REMOVE_ACTOR } from '../../actions';\n\nclass PartyManager extends Component {\n\tstatic propTypes = {\n\t\tdispatch: PropTypes.func.isRequired,\n\t\tplayers: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\n\t};\n\n\trender() {\n\t\tconst { players } = this.props;\n\t\treturn (\n\t\t\t<SidebarLayout>\n\t\t\t\t<Fragment>\n\t\t\t\t\t<SidebarActions\n\t\t\t\t\t\tbuttons={[\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tkey: 'addplayer',\n\t\t\t\t\t\t\t\tonClick: this.addPlayers,\n\t\t\t\t\t\t\t\tglyph: IconSwordman,\n\t\t\t\t\t\t\t\ttitle: 'Add players',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t]}\n\t\t\t\t\t/>\n\t\t\t\t\t<SortableList\n\t\t\t\t\t\titems={players}\n\t\t\t\t\t\tonSortEnd={this.onSortEnd}\n\t\t\t\t\t\tactions={[\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tkey: 'remove',\n\t\t\t\t\t\t\t\tonClick: this.removePlayer,\n\t\t\t\t\t\t\t\tglyph: IconRemove,\n\t\t\t\t\t\t\t\ttitle: 'Remove player',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t]}\n\t\t\t\t\t/>\n\t\t\t\t</Fragment>\n\t\t\t\t<Fragment>\n\t\t\t\t\t<div />\n\t\t\t\t</Fragment>\n\t\t\t</SidebarLayout>\n\t\t);\n\t}\n\n\tonSortEnd = ({ oldIndex, newIndex }) => {\n\t\tconst { dispatch } = this.props;\n\n\t\tif (oldIndex !== newIndex) {\n\t\t\tdispatch({\n\t\t\t\ttype: PLAYERS_MOVE,\n\t\t\t\toldIndex,\n\t\t\t\tnewIndex,\n\t\t\t});\n\t\t}\n\t};\n\n\taddPlayers = () => {\n\t\tconst { dispatch } = this.props;\n\t\t// eslint-disable-next-line no-alert\n\t\tconst namesStr = window.prompt(\n\t\t\t'Enter player names, separate multiple names with comma.',\n\t\t);\n\t\tif (namesStr) {\n\t\t\tconst playerNames = namesStr\n\t\t\t\t.split(',')\n\t\t\t\t.map((name) => this.createPlayerObject(name.trim()));\n\n\t\t\tif (playerNames.length) {\n\t\t\t\tforEach(playerNames, (player) => {\n\t\t\t\t\tdispatch({\n\t\t\t\t\t\ttype: ADD_ACTOR,\n\t\t\t\t\t\tactor: player,\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n\n\tremovePlayer = (item) => {\n\t\tconst { dispatch } = this.props;\n\n\t\tif (\n\t\t\titem\n\t\t\t&& window.confirm(` Are you sure you want to remove \"${item.name}\"?`)\n\t\t) {\n\t\t\tdispatch({\n\t\t\t\ttype: REMOVE_ACTOR,\n\t\t\t\tactor: item,\n\t\t\t});\n\t\t}\n\t};\n\n\tcreatePlayerObject = (name) => ({\n\t\tname,\n\t\ttype: TYPE_PLAYER,\n\t});\n}\n\nexport default connect((state) => ({\n\tplayers: state.players.items,\n}))(PartyManager);\n"]},"metadata":{},"sourceType":"module"}