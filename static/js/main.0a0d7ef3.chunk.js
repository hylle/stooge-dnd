(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{111:function(e,t,n){e.exports=n.p+"static/media/damage.f6442147.svg"},112:function(e,t,n){e.exports=n.p+"static/media/heal.b8b5a404.svg"},113:function(e,t,n){e.exports=n.p+"static/media/roll.7417789e.svg"},114:function(e,t,n){e.exports=n.p+"static/media/step-next.240eee17.svg"},115:function(e,t,n){e.exports=n.p+"static/media/step-prev.cf82d107.svg"},117:function(e,t,n){e.exports=n(293)},202:function(e,t,n){},209:function(e,t,n){e.exports=n.p+"static/media/add.56287acd.svg"},210:function(e,t,n){e.exports=n.p+"static/media/lightning.1ce3a3a0.svg"},212:function(e,t,n){e.exports=n.p+"static/media/swordman.b97243d4.svg"},213:function(e,t,n){e.exports=n.p+"static/media/remove.fdf22623.svg"},214:function(e,t,n){e.exports=n.p+"static/media/initiative.edd3f08c.svg"},215:function(e,t,n){e.exports=n.p+"static/media/monster.122b3d09.svg"},216:function(e,t,n){e.exports=n.p+"static/media/sword-clash.184d3483.svg"},217:function(e,t,n){e.exports=n.p+"static/media/party.f0c05216.svg"},273:function(e,t,n){},275:function(e,t,n){},277:function(e,t,n){},279:function(e,t,n){},281:function(e,t,n){},283:function(e,t,n){},285:function(e,t,n){},289:function(e,t,n){},291:function(e,t,n){},293:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(14),c=n(17),o=n(43),s=n(12),l=n(109),u=n.n(l),m=n(218),d=n(19),p=n(4),f=n(37),v=n.n(f),E=function(e,t,n){var a=JSON.parse(window.localStorage.getItem(t)),r=Object(p.a)({},e,{storageVersion:n});return a&&a.storageVersion===n?a:r},h=function(e){return function(t){return window.localStorage.setItem(e,JSON.stringify(t)),t}},b=function(e,t,n){var a=e.slice(0);if(n>=a.length)for(var r=n-a.length;1+r--;)a.push(void 0);return a.splice(n,0,a.splice(t,1)[0]),a},g="players/TYPE_PLAYER",y="players/PLAYERS_ADD",_="players/PLAYERS_REMOVE",O="players/PLAYERS_MOVE",k=E({items:[]},"stoogePlayers",3),j=h("stoogePlayers");var x=n(44),N=n(38),w=n.n(N),S=n(31),A=n.n(S),C=n(32),I=n.n(C),M=n(22),P=n.n(M),T="monsters/TYPE_MONSTER",R="monsters/MONSTERS_ADD",D=E({encounters:[],customMonsters:[],selectedEncounter:!1},"stoogeMonsters",4),H=h("stoogeMonsters"),L=function(e){return{id:w.a.generate(),name:e.name,type:T,stats:e}};var F=n(77),V=n.n(F),G=n(110),U=n.n(G),Y=[],B=["grumpy","happy","sleepy","dopey","bashful","sneezy","wimpy","large nose","large ears","pointy ears","bald","beautiful","scarred","one eyed","strong","burly","shaggy","bearded","moustached","short","tall","bejeweled","nice","foul","foul-mouthed","snickering","sad","angry","swift","mad","poor","colorful","ugly","smelly","limps"];var q="initiative/MOVE",z="initiative/ADD",J="initiative/REMOVE",K="initiative/TRANSFER_ENCOUNTER",W="initiative/INIT_ROLL",X="initiative/CLEAR_MONSTERS",$="initiative/SET_INITIATIVE",Q="initiative/STEP_FORWARD",Z="initiative/STEP_BACK",ee=E({actors:[],currentActor:0},"stoogeInitiative",4),te=h("stoogeInitiative");function ne(e,t){if(t){var n=t;return A()(e.actors,["name",t.name])&&(n=Object(p.a)({},t,{affix:function(){var e=U()(v.a.apply(void 0,[B].concat(Object(d.a)(Y))));return Y.push(e),e}()})),te(Object(p.a)({},e,{actors:V()(Object(d.a)(e.actors).concat([n]),["initiative"]).reverse()}))}return e}function ae(e){var t=Object(p.a)({},e),n=P()(e.actors,function(e){return e.type===g});return t.actors=n,Y=[],te(t)}function re(e,t,n){var a=e.actors.indexOf(t);if(-1!==a&&n){var r=Object(p.a)({},t,{currentHP:t.currentHP-n}),i=Object(p.a)({},e);return i.actors[a]=r,te(i)}return e}var ie=Object(s.c)({players:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return function(e,t){var n=Object(p.a)({},e,{items:Object(d.a)(e.items).concat([t])});return j(n)}(e,t.player);case _:return function(e,t){var n=v()(Object(d.a)(e.items),t);if(n.length<e.items.length){var a=Object(p.a)({},e,{items:n});return j(a)}return e}(e,t.player);case O:return function(e,t,n){var a=Object(p.a)({},e,{items:b(e.items,t,n)});return j(a)}(e,t.oldIndex,t.newIndex);default:return e}},monsters:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return function(e,t,n){var a=I()(e.encounters,["id",t]);if(-1!==a){var r=Object(d.a)(e.encounters);return r[a].monsters.push(L(n)),H(Object(p.a)({},e,{encounters:r}))}return e}(e,t.encounterId,t.monster);case"monsters/MONSTERS_ADD_CUSTOM":return function(e,t){return t&&t.name&&t.hit_dice&&t.customStatLink?H(Object(x.a)(e,function(e){t.id=w.a.generate(),e.customMonsters.push(t)})):e}(e,t.monster);case"monsters/MONSTERS_REMOVE":return function(e,t,n){var a=I()(e.encounters,["id",t]);if(-1!==a&&-1!==I()(e.encounters[a].monsters,["id",n])){var r=Object(d.a)(e.encounters),i=P()(r[a].monsters,function(e){return e.id!==n});return r[a].monsters=i,H(Object(p.a)({},e,{encounters:r}))}return e}(e,t.encounterId,t.monsterId);case"monsters/MONSTERS_ADD_ENCOUNTER":return function(e){var t=w.a.generate();return H(Object(p.a)({},e,{encounters:Object(d.a)(e.encounters).concat([{id:t,monsters:[]}]),selectedEncounter:t}))}(e);case"monsters/MONSTERS_REMOVE_ENCOUNTER":return function(e,t){var n=A()(e.encounters,["id",t]);if(n){var a=Object(p.a)({},e);return a.encounters=v()(e.encounters,n),H(a)}return e}(e,t.encounterId);case"monsters/MONSTERS_SELECT_ENCOUNTER":return function(e,t){return A()(e.encounters,["id",t])?H(Object(p.a)({},e,{selectedEncounter:t})):e}(e,t.encounterId);default:return e}},initiative:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z:return ne(e,t.actor);case J:return function(e,t){var n=P()(Object(d.a)(e.actors),function(e){return e.id!==t.id});if(n.length<e.actors.length){var a=Object(p.a)({},e,{actors:n});return te(a)}return e}(e,t.actor);case q:return function(e,t,n){var a=Object(p.a)({},e,{actors:b(e.actors,t,n)});return te(a)}(e,t.oldIndex,t.newIndex);case X:return ae(e);case $:return function(e,t,n){if(-1!==e.actors.indexOf(t)){var a=P()(e.actors,function(e){return e.id!==t.id});a.push(Object(p.a)({},t,{initiative:n}));var r=Object(p.a)({},e,{actors:V()(a,["initiative"]).reverse()});return te(r)}return e}(e,t.actor,t.initiative);case"initiative/TAKE_DAMAGE":return re(e,t.actor,Math.abs(t.damage));case"initiative/HEAL_DAMAGE":return function(e,t,n){return re(e,t,-n)}(e,t.actor,Math.abs(t.heal));case Q:return function(e){return Object(x.a)(e,function(e){var t=e.currentActor+1;return e.currentActor=t>=e.actors.length?0:t,e})}(e);case Z:return function(e){return Object(x.a)(e,function(e){var t=e.currentActor-1;return e.currentActor=t<0?e.actors.length-1:t,e})}(e);default:return e}}}),ce=n(20),oe=n.n(ce),se=n(16),le=n(66),ue=n.n(le),me=n(70),de=n.n(me),pe="ADD_ACTOR",fe="REMOVE_ACTOR",ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return Math.floor((e-10)/2)},Ee=function(e){var t=ve(e);return t>=0?"+".concat(t):t},he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=/^(\d+)?d(\d+)([+-]\d+)?$/.exec(e);if(!n)throw new Error("Invalid dice notation: ".concat(e));for(var a="undefined"===typeof n[1]?1:parseInt(n[1],10),r=parseInt(n[2],10),i="undefined"===typeof n[3]?0:parseInt(n[3],10),c=0,o=0;o<a;o++)c+=de()(1,r)+t;return c+i},be=function(e,t){var n=ve(t);return he(e,n)},ge=oe.a.mark(je),ye=oe.a.mark(we),_e=oe.a.mark(Se),Oe=oe.a.mark(Ae),ke=oe.a.mark(Ce);function je(){var e,t,n,a;return oe.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=3,Object(se.d)(K);case 3:return e=r.sent,t=e.monsters,r.next=7,Object(se.c)({type:X});case 7:n=0;case 8:if(!(n<t.length)){r.next=15;break}return a=t[n],r.next=12,Object(se.c)({type:pe,actor:a});case 12:n++,r.next=8;break;case 15:r.next=0;break;case 17:case"end":return r.stop()}},ge,this)}function xe(e){return e.type===T?de()(1,20)+ve(e.stats.dexterity):0}function Ne(e){return e.type===T?be(e.stats.hit_dice,e.stats.constitution):null}function we(){var e,t,n,a;return oe.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=3,Object(se.d)(pe);case 3:if(e=r.sent,t=e.actor,n=Ne(t),(a=Object(p.a)({id:w.a.generate(),initiative:xe(t),affix:"",currentHP:n,maxHP:n},t)).type!==g){r.next=12;break}return r.next=10,Object(se.c)({type:y,player:a});case 10:return r.next=12,Object(se.c)({type:z,actor:a});case 12:if(a.type!==T){r.next=15;break}return r.next=15,Object(se.c)({type:z,actor:a});case 15:r.next=0;break;case 17:case"end":return r.stop()}},ye,this)}function Se(){var e,t;return oe.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=3,Object(se.d)(fe);case 3:if(e=n.sent,(t=e.actor).type!==g){n.next=10;break}return n.next=8,Object(se.c)({type:_,player:t});case 8:return n.next=10,Object(se.c)({type:J,actor:t});case 10:t.type,n.next=0;break;case 13:case"end":return n.stop()}},_e,this)}function Ae(){var e,t,n,a,r,i;return oe.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=3,Object(se.d)(W);case 3:e=c.sent,t=e.actors,n=P()(t,function(e){return e.type===g}),a=0;case 7:if(!(a<n.length)){c.next=16;break}if(r=n[a],i=parseInt(prompt("Enter initiative for ".concat(r.name,".")),10),ue()(i)){c.next=13;break}return c.next=13,Object(se.c)({type:$,actor:r,initiative:i});case 13:a++,c.next=7;break;case 16:c.next=0;break;case 18:case"end":return c.stop()}},Oe,this)}function Ce(){return oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(se.a)([Object(se.b)(we),Object(se.b)(Se),Object(se.b)(je),Object(se.b)(Ae)]);case 2:case"end":return e.stop()}},ke,this)}var Ie=oe.a.mark(Me);function Me(){return oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(se.a)([Object(se.b)(Ce)]);case 2:case"end":return e.stop()}},Ie,this)}var Pe=u()(),Te=Object(m.a)(),Re=[Object(o.routerMiddleware)(Pe),Te],De=s.d.apply(void 0,[s.a.apply(void 0,Re)].concat([])),He=Object(s.e)(Object(o.connectRouter)(Pe)(ie),{},De);Te.run(Me);var Le=He,Fe=n(62),Ve=n(61),Ge=n(15),Ue=n(296),Ye=n(208),Be=n(25),qe=n(26),ze=n(28),Je=n(27),Ke=n(29),We=n(111),Xe=n.n(We),$e=n(112),Qe=n.n($e),Ze=(n(202),{0:10,.125:25,.25:50,.5:100,1:200,2:450,3:700,4:1100,5:1800,6:2300,7:2900,8:3900,9:5e3,10:5900,11:7200,12:8400,13:1e4,14:11500,15:13e3,16:15e3,17:18e3,18:2e4,19:22e3,20:25e3,21:33e3,22:41e3,23:5e4,24:62e3,25:75e3,26:9e4,27:105e3,28:12e4,29:135e3,30:155e3}),et=["athletics","acrobatics","sleight_of_hand","stealth","arcana","history","investigation","nature","religion","animal_handling","insight","medicine","perception","survival","deception","intimidation","performance","persuasion"],tt=["Athletics","Acrobatics","Sleight of Hand","Stealth","Arcana","History","Investigation","Nature","Religion","Animal Handling","Insight","Medicine","Perception","Survival","Deception","Intimidation","Performance","Persuasion"],nt=function(e,t){return t},at=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(e,t){return"".concat(e," ").concat(Ee(t))},c=n.reduce(function(e,n,r){if(t[n]){var c=a[r];return e.push(i(c,t[n])),e}return e},[]).join(", ");return c.length?r.a.createElement("div",null,r.a.createElement("strong",null,e)," ",c):null},rt=function(e){var t=e.replace("_"," ");return t.charAt(0).toUpperCase()+t.slice(1)},it=function(e){var t=e.monster,n=e.dispatch;if(!t)return null;var i=t.stats;return r.a.createElement("div",{className:"monsterstats"},r.a.createElement("div",null,r.a.createElement("button",{type:"submit",className:"monsterstats__adjust-hp",onClick:function(){var e=parseInt(prompt("Enter damage amount."),10);ue()(e)||n({type:"initiative/TAKE_DAMAGE",actor:t,damage:e})}},r.a.createElement("img",{src:Xe.a,alt:"Take damage"})),r.a.createElement("button",{type:"submit",className:"monsterstats__adjust-hp monsterstats__adjust-hp--heal",onClick:function(){var e=parseInt(prompt("Enter healing amount."),10);ue()(e)||n({type:"initiative/HEAL_DAMAGE",actor:t,heal:e})}},r.a.createElement("img",{src:Qe.a,alt:"Heal"}))),!!i.customStatLink&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,t.name),r.a.createElement("iframe",{src:i.customStatLink,sandbox:"",title:t.name})),!i.customStatLink&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,t.name),r.a.createElement("strong",null,"\n\t\t\t\t\t\t\t".concat(i.size,"\n\t\t\t\t\t\t\t").concat(i.type).concat(i.subtype?" (".concat(i.subtype,")"):"",",\n\t\t\t\t\t\t\t").concat(i.alignment,"\n\t\t\t\t\t\t")),r.a.createElement("hr",null),r.a.createElement("div",null,r.a.createElement("strong",null,"AC:")," ",i.armor_class,r.a.createElement("br",null),r.a.createElement("strong",null,"HP:")," ",i.hit_points," (",i.hit_dice,")",r.a.createElement("br",null),r.a.createElement("strong",null,"Speed:")," ",i.speed,r.a.createElement("br",null)),r.a.createElement("hr",null),r.a.createElement("table",{width:"100%"},r.a.createElement("thead",null,r.a.createElement("tr",null,["STR","DEX","CON","INT","WIS","CHA"].map(function(e){return r.a.createElement("th",{key:e},e)}))),r.a.createElement("tbody",null,r.a.createElement("tr",null,["strength","dexterity","constitution","intelligence","wisdom","charisma"].map(function(e){return r.a.createElement("td",{key:e},i[e]," (",Ee(i[e]),")")})))),r.a.createElement("hr",null),r.a.createElement("div",null,at("Saving throws",i,["strength_save","dexterity_save","constitution_save","intelligence_save","wisdom_save","charisma_save"],["Str","Dex","Con","Int","Wis","Cha"])),r.a.createElement("div",null,at("Skills",i,et,tt)),["damage_vulnerabilities","damage_resistances","damage_immunities","condition_immunities","senses","languages"].map(function(e){return r.a.createElement("div",{key:e},at(rt(e),i,[e],[],nt))}),r.a.createElement("div",null,at("Challenge",i,["challenge_rating"],[],function(e,t){return function(e){var t=Ze[e];return void 0!==t?"".concat(e," (").concat(t," XP)"):"Unknown"}(t)})),["special_abilities","actions","legendary_actions"].map(function(e){return i[e]?r.a.createElement(a.Fragment,{key:e},r.a.createElement("hr",null),r.a.createElement("div",null,r.a.createElement("h4",null,rt(e)),i[e].map(function(e,t){return r.a.createElement("div",{key:e.name},r.a.createElement("em",null,r.a.createElement("strong",null,e.name))," ",r.a.createElement("pre",null,e.desc))}))):null})))};it.defaultProps={monster:!1};var ct=Object(c.connect)(function(e,t){var n=t.match.params.id;return Object(p.a)({},e,{monster:e.initiative.actors.find(function(e){return e.stats&&e.id===n})})})(it),ot=n(78),st=n(33),lt=n.n(st),ut={blue:{main:"blue",complement:"#fff"},red:{main:"red",complement:"#fff"},green:{main:"green",complement:"#fff"},gold:{main:"gold",complement:"#fff"},silver:{main:"silver",complement:"#fff"},black:{main:"black",complement:"#fff"},brown:{main:"#4c270c",complement:"#fff"},zombie:{main:"#a6bd4f",complement:"#fff"},goblin:{main:"#41924B",complement:"#fff"},unicorn:{main:"pink",complement:"#000",gradient:"linear-gradient(to left, #e81123, #e81123 17%, #f7941d 17%, #f7941d 34%, #fff100 34%, #fff100 51%, #00a650 51%, #00a650 68%, #0054a5 68%, #0054a5 85%, #672d93 85%, #672d93)"},blood:{main:"#8a0707",complement:"#fff"},copper:{main:"#b87333",complement:"#fff"},bronze:{main:"#cd7f32",complement:"#fff"},brass:{main:"#b5a642",complement:"#fff"}},mt=function(e){for(var t=e.toLowerCase(),n=Object.keys(ut),a=0;a<n.length;a++){var r=n[a];if(-1!==t.indexOf(r)){var i=ut[r];if(i&&"object"===typeof i)return i}}return{}},dt=n(295),pt=function(e){return e.to?r.a.createElement(dt.a,e):r.a.createElement("span",Object.assign({},e,{to:void 0}))},ft=(n(273),Object(ot.SortableElement)(function(e){var t=e.item,n=e.actions,a=e.position,i=e.linkGen,c=e.colorNames,o=e.extraComponent,s=mt(t.name),l=c?function(e){var t={};return e.gradient&&(t.borderImage="".concat(e.gradient," 0 0 1 0 / 1px / 0 stretch")),e.main&&(t.borderBottomColor=e.main),t}(s):{};return r.a.createElement("li",{className:"trackerlist-item"},r.a.createElement(pt,{to:i(t),className:lt()({"trackerlist-item__link":!0,"trackerlist-item__link--dead":t.stats&&t.currentHP<=0,"trackerlist-item__link--player":!t.stats})},r.a.createElement("span",{className:lt()({"trackerlist-item__link__name":!0,"trackerlist-item__link__name--monster":t.stats,"trackerlist-item__link__name--player":!t.stats}),style:l},t.name,!!t.affix&&r.a.createElement("span",{className:"trackerlist-item__link__name__affix"}," ","(",t.affix,")")),!!o&&r.a.createElement(o,{item:t,id:t.id,position:a})),r.a.createElement("span",{className:"trackerlist-item__actions"},n.map(function(e){return r.a.createElement("button",{key:e.key,type:"submit",className:"trackerlist-item__actions__button",onClick:function(){return e.onClick(t)},title:e.title},r.a.createElement("img",{src:e.glyph,alt:"-",height:"20",width:"20"}))})))}));ft.defaultProps={actions:[]};var vt=Object(ot.SortableContainer)(function(e){var t=e.items,n=e.disableDragging,a=e.actions,i=e.linkGen,c=e.colorNames,o=e.extraComponent;return r.a.createElement("ol",{className:"trackerlist"},t.map(function(e,t){return r.a.createElement(ft,{key:e.id,index:t,position:t,value:e,item:e,disabled:n,actions:a,linkGen:i,colorNames:c,extraComponent:o})}))});vt.defaultProps=Object(p.a)({},vt.defaultProps,{disableDragging:!1,lockAxis:"y",distance:2,helperClass:"dragging",linkGen:function(){return!1},colorNames:!1,extraComponent:null});var Et=vt,ht=n(113),bt=n.n(ht),gt=n(114),yt=n.n(gt),_t=n(115),Ot=n.n(_t),kt=(n(275),n(277),function(e){var t=e.children;return r.a.createElement("div",{className:"sidebarlayout"},r.a.createElement("div",{className:"sidebarlayout__sidebar"},t[0]),r.a.createElement("div",{className:"sidebarlayout__content"},t[1]))}),jt=(n(279),function(e){var t=e.buttons;return r.a.createElement("div",{className:"sidebar-actions"},t.map(function(e){return r.a.createElement("button",{key:e.key,type:"submit",onClick:e.onClick,title:e.title,className:"sidebar-actions__button"},r.a.createElement("img",{src:e.glyph,alt:""}))}))}),xt=function(e){var t=e.maxHP,n=e.currentHP,i=e.initiative,c=n>0;return r.a.createElement(a.Fragment,null,r.a.createElement("span",{className:"trackerlist-item__link__initiative"},i),!!t&&r.a.createElement("span",{className:"trackerlist-item__link__hp"},r.a.createElement("span",{className:"trackerlist-item__link__hp__current",style:{height:"".concat(Math.min(100/t*Math.max(n,0),100),"%")}}),r.a.createElement("span",{className:lt()({"trackerlist-item__link__hp__display":!0,"trackerlist-item__link__hp__display--dead":!0})},!c&&r.a.createElement(a.Fragment,null,"\u2620"," "),c&&r.a.createElement(a.Fragment,null,n," / ",t))))};xt.defaultProps={maxHP:null,currentHP:null};var Nt=Object(c.connect)(function(e,t){var n=t.id,a=e.initiative.actors,r=A()(a,["id",n]);return{maxHP:r.maxHP,currentHP:r.currentHP,initiative:r.initiative}})(xt),wt=(n(281),function(e){return e.currentActor===e.position?r.a.createElement("div",{className:"turnmarker"}):null});wt.defaultProps={};var St=wt,At=Object(c.connect)(function(e){return{currentActor:e.initiative.currentActor}})(function(e){var t=e.item,n=e.currentActor,a=e.position;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Nt,{item:t,id:t.id}),r.a.createElement(St,{currentActor:n,position:a}))}),Ct=function(e){function t(){var e,n;Object(Be.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(ze.a)(this,(e=Object(Je.a)(t)).call.apply(e,[this].concat(r)))).onSortEnd=function(e){var t=e.oldIndex,a=e.newIndex;(0,n.props.dispatch)({type:q,oldIndex:t,newIndex:a})},n.rollInitiative=function(){var e=n.props,t=e.dispatch,a=e.actors;t({type:W,actors:a})},n.stepForwardInitiative=function(){(0,n.props.dispatch)({type:Q})},n.stepBackInitiative=function(){(0,n.props.dispatch)({type:Z})},n}return Object(Ke.a)(t,e),Object(qe.a)(t,[{key:"render",value:function(){var e=this.props.actors;return r.a.createElement(kt,null,r.a.createElement(a.Fragment,null,r.a.createElement(jt,{buttons:[{key:"roll-initiative",onClick:this.rollInitiative,glyph:bt.a,title:"Input initiative"},{key:"step-prev",onClick:this.stepBackInitiative,glyph:Ot.a,title:"Next initiative"},{key:"step-next",onClick:this.stepForwardInitiative,glyph:yt.a,title:"Next initiative"}]}),r.a.createElement(Et,{items:e,onSortEnd:this.onSortEnd,linkGen:function(e){return e.stats?"/initiative/monster/".concat(e.id):"/initiative/player/".concat(e.id)},extraComponent:At})),r.a.createElement(a.Fragment,null,r.a.createElement(Fe.a,null,r.a.createElement(Ge.a,{path:"/initiative/monster/:id",component:ct}),r.a.createElement(Ge.a,{path:"/initiative/player/:id",component:function(){return r.a.createElement("div",null,"Nothing to see here")}}))))}}]),t}(a.Component),It=Object(c.connect)(function(e){return{dispatch:e.dispatch,actors:e.initiative.actors}})(Ct),Mt=(n(283),function(e,t,n){n!==t&&e({type:"monsters/MONSTERS_SELECT_ENCOUNTER",encounterId:t})}),Pt=function(e){var t=e.dispatch,n=e.encounter,a=e.monster;e.index;return r.a.createElement("li",null,a.name,r.a.createElement("button",{className:"encounter-list__encounter__monster__button",onClick:function(){return function(e,t,n){e({type:"monsters/MONSTERS_REMOVE",encounterId:t,monsterId:n})}(t,n.id,a.id)}},"-"))},Tt=function(e){var t=e.dispatch,n=e.encounter,a=e.selectedEncounter,i=n.monsters;return r.a.createElement("div",{className:lt()({"encounter-list__encounter":!0,"encounter-list__encounter--selected":a===n.id}),onClick:function(){return Mt(t,n.id,a)},onKeyDown:function(e){32!==e.keyCode&&13!==e.keyCode||Mt(t,n.id,a)},role:"tab",tabIndex:0},r.a.createElement("div",null,r.a.createElement("button",{type:"submit",onClick:function(e){e.stopPropagation(),function(e,t){t&&e({type:"monsters/MONSTERS_REMOVE_ENCOUNTER",encounterId:t})}(t,n.id)}},"delete"),r.a.createElement("button",{type:"submit",onClick:function(e){e.stopPropagation(),function(e,t){e({type:K,monsters:t})}(t,i)}},"transfer to initiative")),r.a.createElement("ol",{className:"encounter-list__encounter__monsters"},i.map(function(t,n){return r.a.createElement(Pt,Object.assign({key:t.id+n,index:n,monster:t},e))})))};Tt.defaultProps=Object(p.a)({},Tt.defaultProps);var Rt=function(e){var t=e.dispatch,n=e.encounters,i=e.selectedEncounter;return r.a.createElement(a.Fragment,null,r.a.createElement("div",{className:"encounter-list"},r.a.createElement("div",{className:"encounter-list__actions"},r.a.createElement("button",{type:"submit",onClick:function(){return function(e){e({type:"monsters/MONSTERS_ADD_ENCOUNTER"})}(t)}},"New encounter"),r.a.createElement("button",{type:"submit",onClick:function(){return function(e){e({type:"monsters/MONSTERS_ADD_CUSTOM",monster:{name:window.prompt("Monster name?"),hit_dice:window.prompt("Hit dice? (ex. 2d8)"),customStatLink:window.prompt("Stats link? ( https://www.aidedd.org/dnd-filters/monsters.php )")}})}(t)}},"Add custom monster")),n.map(function(e){return r.a.createElement(Tt,{key:e.id,dispatch:t,encounter:e,selectedEncounter:i})})))};Rt.defaultProps={};var Dt=Object(c.connect)(function(e){var t=e.monsters,n=t.encounters,a=t.selectedEncounter;return{dispatch:e.dispatch,encounters:n,selectedEncounter:a}})(Rt),Ht=n(209),Lt=n.n(Ht),Ft=n(210),Vt=n.n(Ft),Gt=(n(285),function(e){function t(){var e,n;Object(Be.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(ze.a)(this,(e=Object(Je.a)(t)).call.apply(e,[this].concat(r)))).state={search:"",monsters:[]},n.filterMonsters=function(){var e=n.state,t=e.search,a=e.monsters,r=n.props.monsters.customMonsters,i=Object(d.a)(a).concat(Object(d.a)(r));return t&&(i=P()(i,function(e){return-1!==e.name.toLowerCase().indexOf(t.toLowerCase())})),i},n.onInput=function(e){n.setState({search:e.target.value})},n.createMonsterAddPlayerAction=function(e){return{type:y,players:[{name:e.name,stats:e}]}},n.addMonsterToEncounter=function(e){var t=n.props,a=t.dispatch,r=t.monsters.selectedEncounter;r&&e&&e.id&&a({type:R,encounterId:r,monster:e})},n.quickAddMonsterToInitiative=function(e){(0,n.props.dispatch)({type:pe,actor:L(e)})},n}return Object(Ke.a)(t,e),Object(qe.a)(t,[{key:"componentWillMount",value:function(){var e=this;n.e(1).then(n.t.bind(null,294,3)).then(function(t){e.setState({monsters:t.default})})}},{key:"render",value:function(){var e=this.state.search,t=this.props.monsters,n=t.encounters,i=t.selectedEncounter,c=-1!==I()(n,["id",i]),o=[{key:"quickAdd",onClick:this.quickAddMonsterToInitiative,title:"Add to initiative",glyph:Vt.a}];return c&&o.push({key:"addToEncounter",onClick:this.addMonsterToEncounter,title:"Add to encounter",glyph:Lt.a}),r.a.createElement(kt,null,r.a.createElement(a.Fragment,null,r.a.createElement("div",null,r.a.createElement("input",{className:"monstersearch",name:"monstersearch",autoComplete:"off",placeholder:"Search for monsters...",value:e,onInput:this.onInput})),r.a.createElement(Et,{listName:"monsters",items:this.filterMonsters(),onSortEnd:function(){},colorNames:!0,actions:o,disableDragging:!0})),r.a.createElement(a.Fragment,null,r.a.createElement(Dt,null)))}}]),t}(a.Component)),Ut=Object(c.connect)(function(e){return e})(Gt),Yt=function(e){function t(){return Object(Be.a)(this,t),Object(ze.a)(this,Object(Je.a)(t).apply(this,arguments))}return Object(Ke.a)(t,e),Object(qe.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"encountergenerator"},"EncounterGenerator")}}]),t}(a.Component),Bt=n(211),qt=n.n(Bt),zt=n(212),Jt=n.n(zt),Kt=n(213),Wt=n.n(Kt),Xt=(n(289),function(e){function t(){var e,n;Object(Be.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(ze.a)(this,(e=Object(Je.a)(t)).call.apply(e,[this].concat(r)))).onSortEnd=function(e){var t=e.oldIndex,a=e.newIndex,r=n.props.dispatch;t!==a&&r({type:O,oldIndex:t,newIndex:a})},n.addPlayers=function(){var e=n.props.dispatch,t=window.prompt("Enter player names, separate multiple names with comma.");if(t){var a=t.split(",").map(function(e){return n.createPlayerObject(e.trim())});a.length&&qt()(a,function(t){e({type:pe,actor:t})})}},n.removePlayer=function(e){var t=n.props.dispatch;e&&window.confirm(' Are you sure you want to remove "'.concat(e.name,'"?'))&&t({type:fe,actor:e})},n.createPlayerObject=function(e){return{name:e,type:g}},n}return Object(Ke.a)(t,e),Object(qe.a)(t,[{key:"render",value:function(){var e=this.props.players;return r.a.createElement(kt,null,r.a.createElement(a.Fragment,null,r.a.createElement(jt,{buttons:[{key:"addplayer",onClick:this.addPlayers,glyph:Jt.a,title:"Add players"}]}),r.a.createElement(Et,{items:e,onSortEnd:this.onSortEnd,actions:[{key:"remove",onClick:this.removePlayer,glyph:Wt.a,title:"Remove player"}]})),r.a.createElement(a.Fragment,null,r.a.createElement("div",null)))}}]),t}(a.Component)),$t=Object(c.connect)(function(e){return{players:e.players.items}})(Xt),Qt=n(214),Zt=n.n(Qt),en=n(215),tn=n.n(en),nn=n(216),an=n.n(nn),rn=n(217),cn=n.n(rn),on=(n(291),function(){return r.a.createElement(Ue.a,null,r.a.createElement("div",{className:"layout"},r.a.createElement("aside",{className:"navigation"},r.a.createElement("ol",null,r.a.createElement("li",null,r.a.createElement(Ye.a,{to:"/initiative"},r.a.createElement("img",{src:Zt.a,alt:"Initiative Tracker",className:"navigation__icon"}))),r.a.createElement("li",null,r.a.createElement(Ye.a,{to:"/party"},r.a.createElement("img",{src:cn.a,alt:"Party Editor",className:"navigation__icon"}))),r.a.createElement("li",null,r.a.createElement(Ye.a,{to:"/encounters"},r.a.createElement("img",{src:tn.a,alt:"Monster Lookup",className:"navigation__icon"}))),r.a.createElement("li",null,r.a.createElement(Ye.a,{to:"/encountergenerator"},r.a.createElement("img",{src:an.a,alt:"Encounter Generator",className:"navigation__icon"}))))),r.a.createElement("div",{className:"layout-content"},r.a.createElement("div",{className:"layout-content__content"},r.a.createElement(Fe.a,null,r.a.createElement(Ve.a,{from:"/",to:"/initiative",exact:!0}),r.a.createElement(Ge.a,{path:"/initiative",component:It}),r.a.createElement(Ge.a,{path:"/party",component:$t}),r.a.createElement(Ge.a,{path:"/encounters",component:Ut}),r.a.createElement(Ge.a,{path:"/encountergenerator",component:Yt}))))))}),sn=document.querySelector("#root");Object(i.render)(r.a.createElement(c.Provider,{store:Le},r.a.createElement(o.ConnectedRouter,{history:Pe},r.a.createElement("div",null,r.a.createElement(on,null)))),sn)}},[[117,3,2]]]);
//# sourceMappingURL=main.0a0d7ef3.chunk.js.map