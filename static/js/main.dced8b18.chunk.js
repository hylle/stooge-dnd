(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{111:function(e,t,n){e.exports=n.p+"static/media/damage.f6442147.svg"},112:function(e,t,n){e.exports=n.p+"static/media/heal.b8b5a404.svg"},113:function(e,t,n){e.exports=n.p+"static/media/roll.7417789e.svg"},114:function(e,t,n){e.exports=n.p+"static/media/add.56287acd.svg"},115:function(e,t,n){e.exports=n.p+"static/media/lightning.1ce3a3a0.svg"},117:function(e,t,n){e.exports=n.p+"static/media/swordman.b97243d4.svg"},118:function(e,t,n){e.exports=n.p+"static/media/remove.fdf22623.svg"},119:function(e,t,n){e.exports=n.p+"static/media/initiative.edd3f08c.svg"},120:function(e,t,n){e.exports=n.p+"static/media/monster.122b3d09.svg"},121:function(e,t,n){e.exports=n.p+"static/media/sword-clash.184d3483.svg"},122:function(e,t,n){e.exports=n.p+"static/media/party.f0c05216.svg"},125:function(e,t,n){e.exports=n(289)},264:function(e,t,n){},271:function(e,t,n){},273:function(e,t,n){},275:function(e,t,n){},277:function(e,t,n){},279:function(e,t,n){},281:function(e,t,n){},285:function(e,t,n){},287:function(e,t,n){},289:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(43),i=n(10),o=n(45),s=n(27),l=n(108),u=n.n(l),m=n(123),d=n(12),p=n(4),f=n(35),v=n.n(f),E=function(e,t,n){var a=JSON.parse(window.localStorage.getItem(t)),r=Object(p.a)({},e,{storageVersion:n});return a&&a.storageVersion===n?a:r},b=function(e){return function(t){return window.localStorage.setItem(e,JSON.stringify(t)),t}},h=function(e,t,n){var a=e.slice(0);if(n>=a.length)for(var r=n-a.length;1+r--;)a.push(void 0);return a.splice(n,0,a.splice(t,1)[0]),a},g="players/TYPE_PLAYER",y="players/PLAYERS_ADD",_="players/PLAYERS_REMOVE",O="players/PLAYERS_MOVE",k=E({items:[]},"stoogePlayers",3),j=b("stoogePlayers");var x=n(109),N=n(37),w=n.n(N),S=n(30),C=n.n(S),I=n(31),A=n.n(I),M=n(18),P=n.n(M),T="monsters/TYPE_MONSTER",R="monsters/MONSTERS_ADD",D=E({encounters:[],customMonsters:[],selectedEncounter:!1},"stoogeMonsters",4),H=b("stoogeMonsters"),L=function(e){return{id:w.a.generate(),name:e.name,type:T,stats:e}};var F=n(80),V=n.n(F),G=n(110),U=n.n(G),Y=[],q=["grumpy","happy","sleepy","dopey","bashful","sneezy","wimpy","large nose","large ears","pointy ears","bald","beautiful","scarred","one eyed","strong","burly","shaggy","bearded","moustached","short","tall","bejeweled","nice","foul","foul-mouthed","snickering","sad","angry","swift","mad","poor","colorful","ugly","smelly","limps"];var z="initiative/MOVE",J="initiative/ADD",K="initiative/REMOVE",W="initiative/TRANSFER_ENCOUNTER",B="initiative/INIT_ROLL",X="initiative/CLEAR_MONSTERS",$="initiative/SET_INITIATIVE",Q=E({actors:[]},"stoogeInitiative",3),Z=b("stoogeInitiative");function ee(e,t){if(t){var n=t;return C()(e.actors,["name",t.name])&&(n=Object(p.a)({},t,{affix:function(){var e=U()(v.a.apply(void 0,[q].concat(Object(d.a)(Y))));return Y.push(e),e}()})),Z(Object(p.a)({},e,{actors:V()(Object(d.a)(e.actors).concat([n]),["initiative"]).reverse()}))}return e}function te(e){var t=Object(p.a)({},e),n=P()(e.actors,function(e){return e.type===g});return t.actors=n,Y=[],Z(t)}function ne(e,t,n){var a=e.actors.indexOf(t);if(-1!==a&&n){var r=Object(p.a)({},t,{currentHP:t.currentHP-n}),c=Object(p.a)({},e);return c.actors[a]=r,Z(c)}return e}var ae=Object(s.c)({players:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return function(e,t){var n=Object(p.a)({},e,{items:Object(d.a)(e.items).concat([t])});return j(n)}(e,t.player);case _:return function(e,t){var n=v()(Object(d.a)(e.items),t);if(n.length<e.items.length){var a=Object(p.a)({},e,{items:n});return j(a)}return e}(e,t.player);case O:return function(e,t,n){var a=Object(p.a)({},e,{items:h(e.items,t,n)});return j(a)}(e,t.oldIndex,t.newIndex);default:return e}},monsters:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return function(e,t,n){var a=A()(e.encounters,["id",t]);if(-1!==a){var r=Object(d.a)(e.encounters);return r[a].monsters.push(L(n)),H(Object(p.a)({},e,{encounters:r}))}return e}(e,t.encounterId,t.monster);case"monsters/MONSTERS_ADD_CUSTOM":return function(e,t){return t&&t.name&&t.hit_dice&&t.customStatLink?H(Object(x.a)(e,function(e){t.id=w.a.generate(),e.customMonsters.push(t)})):e}(e,t.monster);case"monsters/MONSTERS_REMOVE":return function(e,t,n){var a=A()(e.encounters,["id",t]);if(-1!==a&&-1!==A()(e.encounters[a].monsters,["id",n])){var r=Object(d.a)(e.encounters),c=P()(r[a].monsters,function(e){return e.id!==n});return r[a].monsters=c,H(Object(p.a)({},e,{encounters:r}))}return e}(e,t.encounterId,t.monsterId);case"monsters/MONSTERS_ADD_ENCOUNTER":return function(e){var t=w.a.generate();return H(Object(p.a)({},e,{encounters:Object(d.a)(e.encounters).concat([{id:t,monsters:[]}]),selectedEncounter:t}))}(e);case"monsters/MONSTERS_REMOVE_ENCOUNTER":return function(e,t){var n=C()(e.encounters,["id",t]);if(n){var a=Object(p.a)({},e);return a.encounters=v()(e.encounters,n),H(a)}return e}(e,t.encounterId);case"monsters/MONSTERS_SELECT_ENCOUNTER":return function(e,t){return C()(e.encounters,["id",t])?H(Object(p.a)({},e,{selectedEncounter:t})):e}(e,t.encounterId);default:return e}},initiative:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J:return ee(e,t.actor);case K:return function(e,t){var n=P()(Object(d.a)(e.actors),function(e){return e.id!==t.id});if(n.length<e.actors.length){var a=Object(p.a)({},e,{actors:n});return Z(a)}return e}(e,t.actor);case z:return function(e,t,n){var a=Object(p.a)({},e,{actors:h(e.actors,t,n)});return Z(a)}(e,t.oldIndex,t.newIndex);case X:return te(e);case $:return function(e,t,n){if(-1!==e.actors.indexOf(t)){var a=P()(e.actors,function(e){return e.id!==t.id});a.push(Object(p.a)({},t,{initiative:n}));var r=Object(p.a)({},e,{actors:V()(a,["initiative"]).reverse()});return Z(r)}return e}(e,t.actor,t.initiative);case"initiative/TAKE_DAMAGE":return ne(e,t.actor,Math.abs(t.damage));case"initiative/HEAL_DAMAGE":return function(e,t,n){return ne(e,t,-n)}(e,t.actor,Math.abs(t.heal));default:return e}}}),re=n(13),ce=n.n(re),ie=n(6),oe=n(46),se=n.n(oe),le=n(59),ue=n.n(le),me="ADD_ACTOR",de="REMOVE_ACTOR",pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return Math.floor((e-10)/2)},fe=function(e){var t=pe(e);return t>=0?"+".concat(t):t},ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=/^(\d+)?d(\d+)([+-]\d+)?$/.exec(e);if(!n)throw new Error("Invalid dice notation: ".concat(e));for(var a="undefined"===typeof n[1]?1:parseInt(n[1],10),r=parseInt(n[2],10),c="undefined"===typeof n[3]?0:parseInt(n[3],10),i=0,o=0;o<a;o++)i+=ue()(1,r)+t;return i+c},Ee=function(e,t){var n=pe(t);return ve(e,n)},be=ce.a.mark(Oe),he=ce.a.mark(xe),ge=ce.a.mark(Ne),ye=ce.a.mark(we),_e=ce.a.mark(Se);function Oe(){var e,t,n,a;return ce.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=3,Object(ie.d)(W);case 3:return e=r.sent,t=e.monsters,r.next=7,Object(ie.c)({type:X});case 7:n=0;case 8:if(!(n<t.length)){r.next=15;break}return a=t[n],r.next=12,Object(ie.c)({type:me,actor:a});case 12:n++,r.next=8;break;case 15:r.next=0;break;case 17:case"end":return r.stop()}},be,this)}function ke(e){return e.type===T?ue()(1,20)+pe(e.stats.dexterity):0}function je(e){return e.type===T?Ee(e.stats.hit_dice,e.stats.constitution):null}function xe(){var e,t,n,a;return ce.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=3,Object(ie.d)(me);case 3:if(e=r.sent,t=e.actor,n=je(t),(a=Object(p.a)({id:w.a.generate(),initiative:ke(t),affix:"",currentHP:n,maxHP:n},t)).type!==g){r.next=12;break}return r.next=10,Object(ie.c)({type:y,player:a});case 10:return r.next=12,Object(ie.c)({type:J,actor:a});case 12:if(a.type!==T){r.next=15;break}return r.next=15,Object(ie.c)({type:J,actor:a});case 15:r.next=0;break;case 17:case"end":return r.stop()}},he,this)}function Ne(){var e,t;return ce.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=3,Object(ie.d)(de);case 3:if(e=n.sent,(t=e.actor).type!==g){n.next=10;break}return n.next=8,Object(ie.c)({type:_,player:t});case 8:return n.next=10,Object(ie.c)({type:K,actor:t});case 10:t.type,n.next=0;break;case 13:case"end":return n.stop()}},ge,this)}function we(){var e,t,n,a,r,c;return ce.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=3,Object(ie.d)(B);case 3:e=i.sent,t=e.actors,n=P()(t,function(e){return e.type===g}),a=0;case 7:if(!(a<n.length)){i.next=16;break}if(r=n[a],c=parseInt(prompt("Enter initiative for ".concat(r.name,".")),10),se()(c)){i.next=13;break}return i.next=13,Object(ie.c)({type:$,actor:r,initiative:c});case 13:a++,i.next=7;break;case 16:i.next=0;break;case 18:case"end":return i.stop()}},ye,this)}function Se(){return ce.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ie.a)([Object(ie.b)(xe),Object(ie.b)(Ne),Object(ie.b)(Oe),Object(ie.b)(we)]);case 2:case"end":return e.stop()}},_e,this)}var Ce=ce.a.mark(Ie);function Ie(){return ce.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ie.a)([Object(ie.b)(Se)]);case 2:case"end":return e.stop()}},Ce,this)}var Ae=u()(),Me=Object(m.a)(),Pe=[Object(o.routerMiddleware)(Ae),Me],Te=s.d.apply(void 0,[s.a.apply(void 0,Pe)].concat([])),Re=Object(s.e)(Object(o.connectRouter)(Ae)(ae),{},Te);Me.run(Ie);var De=Re,He=n(78),Le=n(77),Fe=n(17),Ve=n(291),Ge=n(270),Ue=n(22),Ye=n(23),qe=n(25),ze=n(24),Je=n(26),Ke=n(111),We=n.n(Ke),Be=n(112),Xe=n.n(Be),$e=(n(264),{0:10,.125:25,.25:50,.5:100,1:200,2:450,3:700,4:1100,5:1800,6:2300,7:2900,8:3900,9:5e3,10:5900,11:7200,12:8400,13:1e4,14:11500,15:13e3,16:15e3,17:18e3,18:2e4,19:22e3,20:25e3,21:33e3,22:41e3,23:5e4,24:62e3,25:75e3,26:9e4,27:105e3,28:12e4,29:135e3,30:155e3}),Qe=["athletics","acrobatics","sleight_of_hand","stealth","arcana","history","investigation","nature","religion","animal_handling","insight","medicine","perception","survival","deception","intimidation","performance","persuasion"],Ze=["Athletics","Acrobatics","Sleight of Hand","Stealth","Arcana","History","Investigation","Nature","Religion","Animal Handling","Insight","Medicine","Perception","Survival","Deception","Intimidation","Performance","Persuasion"],et=function(e,t){return t},tt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(e,t){return"".concat(e," ").concat(fe(t))},i=n.reduce(function(e,n,r){if(t[n]){var i=a[r];return e.push(c(i,t[n])),e}return e},[]).join(", ");return i.length?r.a.createElement("div",null,r.a.createElement("strong",null,e)," ",i):null},nt=function(e){var t=e.replace("_"," ");return t.charAt(0).toUpperCase()+t.slice(1)},at=function(e){var t=e.monster,n=e.dispatch;if(!t)return null;var c=t.stats;return r.a.createElement("div",{className:"monsterstats"},r.a.createElement("div",null,r.a.createElement("button",{type:"submit",className:"monsterstats__adjust-hp",onClick:function(){var e=parseInt(prompt("Enter damage amount."),10);se()(e)||n({type:"initiative/TAKE_DAMAGE",actor:t,damage:e})}},r.a.createElement("img",{src:We.a,alt:"Take damage"})),r.a.createElement("button",{type:"submit",className:"monsterstats__adjust-hp monsterstats__adjust-hp--heal",onClick:function(){var e=parseInt(prompt("Enter healing amount."),10);se()(e)||n({type:"initiative/HEAL_DAMAGE",actor:t,heal:e})}},r.a.createElement("img",{src:Xe.a,alt:"Heal"}))),!!c.customStatLink&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,t.name),r.a.createElement("iframe",{src:c.customStatLink,sandbox:"",title:t.name})),!c.customStatLink&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,t.name),r.a.createElement("strong",null,"\n\t\t\t\t\t\t\t".concat(c.size,"\n\t\t\t\t\t\t\t").concat(c.type).concat(c.subtype?" (".concat(c.subtype,")"):"",",\n\t\t\t\t\t\t\t").concat(c.alignment,"\n\t\t\t\t\t\t")),r.a.createElement("hr",null),r.a.createElement("div",null,r.a.createElement("strong",null,"AC:")," ",c.armor_class,r.a.createElement("br",null),r.a.createElement("strong",null,"HP:")," ",c.hit_points," (",c.hit_dice,")",r.a.createElement("br",null),r.a.createElement("strong",null,"Speed:")," ",c.speed,r.a.createElement("br",null)),r.a.createElement("hr",null),r.a.createElement("table",{width:"100%"},r.a.createElement("thead",null,r.a.createElement("tr",null,["STR","DEX","CON","INT","WIS","CHA"].map(function(e){return r.a.createElement("th",{key:e},e)}))),r.a.createElement("tbody",null,r.a.createElement("tr",null,["strength","dexterity","constitution","intelligence","wisdom","charisma"].map(function(e){return r.a.createElement("td",{key:e},c[e]," (",fe(c[e]),")")})))),r.a.createElement("hr",null),r.a.createElement("div",null,tt("Saving throws",c,["strength_save","dexterity_save","constitution_save","intelligence_save","wisdom_save","charisma_save"],["Str","Dex","Con","Int","Wis","Cha"])),r.a.createElement("div",null,tt("Skills",c,Qe,Ze)),["damage_vulnerabilities","damage_resistances","damage_immunities","condition_immunities","senses","languages"].map(function(e){return r.a.createElement("div",{key:e},tt(nt(e),c,[e],[],et))}),r.a.createElement("div",null,tt("Challenge",c,["challenge_rating"],[],function(e,t){return function(e){var t=$e[e];return void 0!==t?"".concat(e," (").concat(t," XP)"):"Unknown"}(t)})),["special_abilities","actions","legendary_actions"].map(function(e){return c[e]?r.a.createElement(a.Fragment,{key:e},r.a.createElement("hr",null),r.a.createElement("div",null,r.a.createElement("h4",null,nt(e)),c[e].map(function(e,t){return r.a.createElement("div",{key:e.name},r.a.createElement("em",null,r.a.createElement("strong",null,e.name))," ",r.a.createElement("pre",null,e.desc))}))):null})))};at.defaultProps={monster:!1};var rt=Object(i.connect)(function(e,t){var n=t.match.params.id;return Object(p.a)({},e,{monster:e.initiative.actors.find(function(e){return e.stats&&e.id===n})})})(at),ct=n(81),it=n(60),ot=n.n(it),st={blue:{main:"blue",complement:"#fff"},red:{main:"red",complement:"#fff"},green:{main:"green",complement:"#fff"},gold:{main:"gold",complement:"#fff"},silver:{main:"silver",complement:"#fff"},black:{main:"black",complement:"#fff"},brown:{main:"#4c270c",complement:"#fff"},zombie:{main:"#a6bd4f",complement:"#fff"},goblin:{main:"#41924B",complement:"#fff"},unicorn:{main:"pink",complement:"#000",gradient:"linear-gradient(to left, #e81123, #e81123 17%, #f7941d 17%, #f7941d 34%, #fff100 34%, #fff100 51%, #00a650 51%, #00a650 68%, #0054a5 68%, #0054a5 85%, #672d93 85%, #672d93)"},blood:{main:"#8a0707",complement:"#fff"},copper:{main:"#b87333",complement:"#fff"},bronze:{main:"#cd7f32",complement:"#fff"},brass:{main:"#b5a642",complement:"#fff"}},lt=function(e){for(var t=e.toLowerCase(),n=Object.keys(st),a=0;a<n.length;a++){var r=n[a];if(-1!==t.indexOf(r)){var c=st[r];if(c&&"object"===typeof c)return c}}return{}},ut=n(292),mt=function(e){return e.to?r.a.createElement(ut.a,e):r.a.createElement("span",Object.assign({},e,{to:void 0}))},dt=(n(271),Object(ct.SortableElement)(function(e){var t=e.item,n=e.actions,a=(e.index,e.linkGen),c=e.colorNames,i=e.extraComponent,o=lt(t.name),s=c?function(e){var t={};return e.gradient&&(t.borderImage="".concat(e.gradient," 0 0 1 0 / 1px / 0 stretch")),e.main&&(t.borderBottomColor=e.main),t}(o):{};return r.a.createElement("li",{className:"trackerlist-item"},r.a.createElement(mt,{to:a(t),className:"trackerlist-item__link"},r.a.createElement("span",{className:ot()({"trackerlist-item__link__name":!0,"trackerlist-item__link__name--monster":t.stats,"trackerlist-item__link__name--player":!t.stats}),style:s},t.name,!!t.affix&&r.a.createElement("span",{className:"trackerlist-item__link__name__affix"}," ","(",t.affix,")")),!!i&&r.a.createElement(i,{item:t,id:t.id})),r.a.createElement("span",{className:"trackerlist-item__actions"},n.map(function(e){return r.a.createElement("button",{key:e.key,type:"submit",className:"trackerlist-item__actions__button",onClick:function(){return e.onClick(t)},title:e.title},r.a.createElement("img",{src:e.glyph,alt:"-",height:"20",width:"20"}))})))}));dt.defaultProps={actions:[]};var pt=Object(ct.SortableContainer)(function(e){var t=e.items,n=e.disableDragging,a=e.actions,c=e.linkGen,i=e.colorNames,o=e.extraComponent;return r.a.createElement("ol",{className:"trackerlist"},t.map(function(e,t){return r.a.createElement(dt,{key:e.id,index:t,value:e,item:e,disabled:n,actions:a,linkGen:c,colorNames:i,extraComponent:o})}))});pt.defaultProps=Object(p.a)({},pt.defaultProps,{disableDragging:!1,lockAxis:"y",distance:2,helperClass:"dragging",linkGen:function(){return!1},colorNames:!1,extraComponent:null});var ft=pt,vt=n(113),Et=n.n(vt),bt=(n(273),n(275),function(e){var t=e.children;return r.a.createElement("div",{className:"sidebarlayout"},r.a.createElement("div",{className:"sidebarlayout__sidebar"},t[0]),r.a.createElement("div",{className:"sidebarlayout__content"},t[1]))}),ht=(n(277),function(e){var t=e.buttons;return r.a.createElement("div",{className:"sidebar-actions"},t.map(function(e){return r.a.createElement("button",{key:e.key,type:"submit",onClick:e.onClick,title:e.title,className:"sidebar-actions__button"},r.a.createElement("img",{src:e.glyph,alt:""}))}))}),gt=function(e){var t=e.maxHP,n=e.currentHP,c=e.initiative;return r.a.createElement(a.Fragment,null,r.a.createElement("span",{className:"trackerlist-item__link__initiative"},c),!!t&&r.a.createElement("span",{className:"trackerlist-item__link__hp"},r.a.createElement("span",{className:"trackerlist-item__link__hp__current",style:{height:"".concat(100/t*n,"%")}}),r.a.createElement("span",{className:"trackerlist-item__link__hp__display"},n<=0&&r.a.createElement(a.Fragment,null,"\u2620"," "),n," / ",t)))};gt.defaultProps={maxHP:null,currentHP:null};var yt=Object(i.connect)(function(e,t){var n=t.id,a=e.initiative.actors,r=C()(a,["id",n]);return{maxHP:r.maxHP,currentHP:r.currentHP,initiative:r.initiative}})(gt),_t=function(e){function t(){var e,n;Object(Ue.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(qe.a)(this,(e=Object(ze.a)(t)).call.apply(e,[this].concat(r)))).onSortEnd=function(e){var t=e.oldIndex,a=e.newIndex;(0,n.props.dispatch)({type:z,oldIndex:t,newIndex:a})},n.rollInitiative=function(){var e=n.props,t=e.dispatch,a=e.actors;t({type:B,actors:a})},n}return Object(Je.a)(t,e),Object(Ye.a)(t,[{key:"render",value:function(){var e=this.props.actors;return r.a.createElement(bt,null,r.a.createElement(a.Fragment,null,r.a.createElement(ht,{buttons:[{key:"roll-initiative",onClick:this.rollInitiative,glyph:Et.a,title:"Input initiative"}]}),r.a.createElement(ft,{items:e,onSortEnd:this.onSortEnd,linkGen:function(e){return e.stats?"/initiative/monster/".concat(e.id):"/initiative/player/".concat(e.id)},extraComponent:yt})),r.a.createElement(a.Fragment,null,r.a.createElement(He.a,null,r.a.createElement(Fe.a,{path:"/initiative/monster/:id",component:rt}),r.a.createElement(Fe.a,{path:"/initiative/player/:id",component:function(){return r.a.createElement("div",null,"Nothing to see here")}}))))}}]),t}(a.Component),Ot=Object(i.connect)(function(e){return{dispatch:e.dispatch,actors:e.initiative.actors}})(_t),kt=(n(279),function(e,t,n){n!==t&&e({type:"monsters/MONSTERS_SELECT_ENCOUNTER",encounterId:t})}),jt=function(e){var t=e.dispatch,n=e.encounter,a=e.monster;e.index;return r.a.createElement("li",null,a.name,r.a.createElement("button",{className:"encounter-list__encounter__monster__button",onClick:function(){return function(e,t,n){e({type:"monsters/MONSTERS_REMOVE",encounterId:t,monsterId:n})}(t,n.id,a.id)}},"-"))},xt=function(e){var t=e.dispatch,n=e.encounter,a=e.selectedEncounter,c=n.monsters;return r.a.createElement("div",{className:ot()({"encounter-list__encounter":!0,"encounter-list__encounter--selected":a===n.id}),onClick:function(){return kt(t,n.id,a)},onKeyDown:function(e){32!==e.keyCode&&13!==e.keyCode||kt(t,n.id,a)},role:"tab",tabIndex:0},r.a.createElement("div",null,r.a.createElement("button",{type:"submit",onClick:function(e){e.stopPropagation(),function(e,t){t&&e({type:"monsters/MONSTERS_REMOVE_ENCOUNTER",encounterId:t})}(t,n.id)}},"delete"),r.a.createElement("button",{type:"submit",onClick:function(e){e.stopPropagation(),function(e,t){e({type:W,monsters:t})}(t,c)}},"transfer to initiative")),r.a.createElement("ol",{className:"encounter-list__encounter__monsters"},c.map(function(t,n){return r.a.createElement(jt,Object.assign({key:t.id+n,index:n,monster:t},e))})))};xt.defaultProps=Object(p.a)({},xt.defaultProps);var Nt=function(e){var t=e.dispatch,n=e.encounters,c=e.selectedEncounter;return r.a.createElement(a.Fragment,null,r.a.createElement("div",{className:"encounter-list"},r.a.createElement("div",{className:"encounter-list__actions"},r.a.createElement("button",{type:"submit",onClick:function(){return function(e){e({type:"monsters/MONSTERS_ADD_ENCOUNTER"})}(t)}},"New encounter"),r.a.createElement("button",{type:"submit",onClick:function(){return function(e){e({type:"monsters/MONSTERS_ADD_CUSTOM",monster:{name:window.prompt("Monster name?"),hit_dice:window.prompt("Hit dice? (ex. 2d8)"),customStatLink:window.prompt("Stats link? ( https://www.aidedd.org/dnd-filters/monsters.php )")}})}(t)}},"Add custom monster")),n.map(function(e){return r.a.createElement(xt,{key:e.id,dispatch:t,encounter:e,selectedEncounter:c})})))};Nt.defaultProps={};var wt=Object(i.connect)(function(e){var t=e.monsters,n=t.encounters,a=t.selectedEncounter;return{dispatch:e.dispatch,encounters:n,selectedEncounter:a}})(Nt),St=n(114),Ct=n.n(St),It=n(115),At=n.n(It),Mt=(n(281),function(e){function t(){var e,n;Object(Ue.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(qe.a)(this,(e=Object(ze.a)(t)).call.apply(e,[this].concat(r)))).state={search:"",monsters:[]},n.filterMonsters=function(){var e=n.state,t=e.search,a=e.monsters,r=n.props.monsters.customMonsters;console.log(r);var c=Object(d.a)(a).concat(Object(d.a)(r));return t&&(c=P()(c,function(e){return-1!==e.name.toLowerCase().indexOf(t.toLowerCase())})),c},n.onInput=function(e){n.setState({search:e.target.value})},n.createMonsterAddPlayerAction=function(e){return{type:y,players:[{name:e.name,stats:e}]}},n.addMonsterToEncounter=function(e){var t=n.props,a=t.dispatch,r=t.monsters.selectedEncounter;r&&e&&e.id&&a({type:R,encounterId:r,monster:e})},n.quickAddMonsterToInitiative=function(e){console.log(e),(0,n.props.dispatch)({type:me,actor:L(e)})},n}return Object(Je.a)(t,e),Object(Ye.a)(t,[{key:"componentWillMount",value:function(){var e=this;n.e(1).then(n.t.bind(null,290,3)).then(function(t){e.setState({monsters:t.default})})}},{key:"render",value:function(){var e=this.state.search,t=this.props.monsters,n=t.encounters,c=t.selectedEncounter,i=-1!==A()(n,["id",c]),o=[{key:"quickAdd",onClick:this.quickAddMonsterToInitiative,title:"Add to initiative",glyph:At.a}];return i&&o.push({key:"addToEncounter",onClick:this.addMonsterToEncounter,title:"Add to encounter",glyph:Ct.a}),r.a.createElement(bt,null,r.a.createElement(a.Fragment,null,r.a.createElement("div",null,r.a.createElement("input",{className:"monstersearch",name:"monstersearch",autoComplete:"off",placeholder:"Search for monsters...",value:e,onInput:this.onInput})),r.a.createElement(ft,{listName:"monsters",items:this.filterMonsters(),onSortEnd:function(){},colorNames:!0,actions:o,disableDragging:!0})),r.a.createElement(a.Fragment,null,r.a.createElement(wt,null)))}}]),t}(a.Component)),Pt=Object(i.connect)(function(e){return e})(Mt),Tt=function(e){function t(){return Object(Ue.a)(this,t),Object(qe.a)(this,Object(ze.a)(t).apply(this,arguments))}return Object(Je.a)(t,e),Object(Ye.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"encountergenerator"},"EncounterGenerator")}}]),t}(a.Component),Rt=n(116),Dt=n.n(Rt),Ht=n(117),Lt=n.n(Ht),Ft=n(118),Vt=n.n(Ft),Gt=(n(285),function(e){function t(){var e,n;Object(Ue.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(qe.a)(this,(e=Object(ze.a)(t)).call.apply(e,[this].concat(r)))).onSortEnd=function(e){var t=e.oldIndex,a=e.newIndex,r=n.props.dispatch;t!==a&&r({type:O,oldIndex:t,newIndex:a})},n.addPlayers=function(){var e=n.props.dispatch,t=window.prompt("Enter player names, separate multiple names with comma.");if(t){var a=t.split(",").map(function(e){return n.createPlayerObject(e.trim())});a.length&&Dt()(a,function(t){e({type:me,actor:t})})}},n.removePlayer=function(e){var t=n.props.dispatch;e&&window.confirm(' Are you sure you want to remove "'.concat(e.name,'"?'))&&t({type:de,actor:e})},n.createPlayerObject=function(e){return{name:e,type:g}},n}return Object(Je.a)(t,e),Object(Ye.a)(t,[{key:"render",value:function(){var e=this.props.players;return r.a.createElement(bt,null,r.a.createElement(a.Fragment,null,r.a.createElement(ht,{buttons:[{key:"addplayer",onClick:this.addPlayers,glyph:Lt.a,title:"Add players"}]}),r.a.createElement(ft,{items:e,onSortEnd:this.onSortEnd,actions:[{key:"remove",onClick:this.removePlayer,glyph:Vt.a,title:"Remove player"}]})),r.a.createElement(a.Fragment,null,r.a.createElement("div",null)))}}]),t}(a.Component)),Ut=Object(i.connect)(function(e){return{players:e.players.items}})(Gt),Yt=n(119),qt=n.n(Yt),zt=n(120),Jt=n.n(zt),Kt=n(121),Wt=n.n(Kt),Bt=n(122),Xt=n.n(Bt),$t=(n(287),function(){return r.a.createElement(Ve.a,null,r.a.createElement("div",{className:"layout"},r.a.createElement("aside",{className:"navigation"},r.a.createElement("ol",null,r.a.createElement("li",null,r.a.createElement(Ge.a,{to:"/initiative"},r.a.createElement("img",{src:qt.a,alt:"Initiative Tracker",className:"navigation__icon"}))),r.a.createElement("li",null,r.a.createElement(Ge.a,{to:"/party"},r.a.createElement("img",{src:Xt.a,alt:"Party Editor",className:"navigation__icon"}))),r.a.createElement("li",null,r.a.createElement(Ge.a,{to:"/encounters"},r.a.createElement("img",{src:Jt.a,alt:"Monster Lookup",className:"navigation__icon"}))),r.a.createElement("li",null,r.a.createElement(Ge.a,{to:"/encountergenerator"},r.a.createElement("img",{src:Wt.a,alt:"Encounter Generator",className:"navigation__icon"}))))),r.a.createElement("div",{className:"layout-content"},r.a.createElement("div",{className:"layout-content__content"},r.a.createElement(He.a,null,r.a.createElement(Le.a,{from:"/",to:"/initiative",exact:!0}),r.a.createElement(Fe.a,{path:"/initiative",component:Ot}),r.a.createElement(Fe.a,{path:"/party",component:Ut}),r.a.createElement(Fe.a,{path:"/encounters",component:Pt}),r.a.createElement(Fe.a,{path:"/encountergenerator",component:Tt}))))))}),Qt=document.querySelector("#root");Object(c.render)(r.a.createElement(i.Provider,{store:De},r.a.createElement(o.ConnectedRouter,{history:Ae},r.a.createElement("div",null,r.a.createElement($t,null)))),Qt)}},[[125,3,2]]]);
//# sourceMappingURL=main.dced8b18.chunk.js.map